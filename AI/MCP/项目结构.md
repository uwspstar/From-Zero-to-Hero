```txt
### ğŸ“ é¡¹ç›®ç»“æ„ï¼ˆmcp-server-fastapiï¼‰
#
# mcp-server-fastapi/
# â”œâ”€â”€ app/
# â”‚   â”œâ”€â”€ __init__.py
# â”‚   â”œâ”€â”€ main.py
# â”‚   â”œâ”€â”€ auth.py
# â”‚   â”œâ”€â”€ permissions.py
# â”‚   â”œâ”€â”€ routers/
# â”‚   â”‚   â”œâ”€â”€ __init__.py
# â”‚   â”‚   â”œâ”€â”€ logs.py
# â”‚   â”‚   â”œâ”€â”€ database.py
# â”‚   â”‚   â””â”€â”€ fileshare.py
# â”œâ”€â”€ config/
# â”‚   â”œâ”€â”€ settings.py
# â”œâ”€â”€ tests/
# â”‚   â”œâ”€â”€ test_logs.py
# â”œâ”€â”€ requirements.txt
# â””â”€â”€ README.md

# === æ–‡ä»¶å†…å®¹ç®€è¦å¦‚ä¸‹ ===

# app/main.py
from fastapi import FastAPI
from app.routers import logs, database, fileshare
from app.auth import get_current_user

app = FastAPI(title="MCP Server for DevOps")

app.include_router(logs.router)
app.include_router(database.router)
app.include_router(fileshare.router)

@app.get("/")
def root():
    return {"message": "MCP Server is running..."}

# app/auth.py
from fastapi import Depends, HTTPException
from fastapi.security import OAuth2PasswordBearer

oauth2_scheme = OAuth2PasswordBearer(tokenUrl="token")

# æ¨¡æ‹Ÿæƒé™è¡¨
USER_PERMISSIONS = {
    "alice": ["log:read", "db:query"],
    "bob": ["log:read", "db:query", "fs:read"],
    "admin": ["*"]
}

def get_current_user(token: str = Depends(oauth2_scheme)):
    if token not in USER_PERMISSIONS:
        raise HTTPException(status_code=403, detail="Unauthorized")
    return token

# app/permissions.py
def check_permission(user: str, perm: str, user_permissions: dict):
    perms = user_permissions.get(user, [])
    if "*" in perms or perm in perms:
        return True
    raise HTTPException(status_code=403, detail="Permission denied")

# app/routers/logs.py
from fastapi import APIRouter, Depends
from app.auth import get_current_user, USER_PERMISSIONS
from app.permissions import check_permission

router = APIRouter(prefix="/logs", tags=["Logs"])

@router.get("/latest")
def read_logs(env: str = "qa", user: str = Depends(get_current_user)):
    check_permission(user, "log:read", USER_PERMISSIONS)
    # æ¨¡æ‹Ÿè¯»å–æ—¥å¿—
    return {"log": f"[INFO] Sample log from {env}"}

# app/routers/database.py
from fastapi import APIRouter, Depends
from app.auth import get_current_user, USER_PERMISSIONS
from app.permissions import check_permission

router = APIRouter(prefix="/db", tags=["Database"])

@router.get("/claim/{claim_id}")
def read_claim(claim_id: str, user: str = Depends(get_current_user)):
    check_permission(user, "db:query", USER_PERMISSIONS)
    # æ¨¡æ‹Ÿè¿”å› claim æ•°æ®
    return {"claim_id": claim_id, "data": "Sample VEI XML"}

# app/routers/fileshare.py
from fastapi import APIRouter, Depends
from app.auth import get_current_user, USER_PERMISSIONS
from app.permissions import check_permission

router = APIRouter(prefix="/fs", tags=["Fileshare"])

@router.get("/download")
def read_file(path: str, user: str = Depends(get_current_user)):
    check_permission(user, "fs:read", USER_PERMISSIONS)
    return {"file": path, "status": "simulated download"}

# config/settings.py
# ç”¨äºåç»­é…ç½®åŠ è½½ï¼ˆå¦‚æ•°æ®åº“ã€æ—¥å¿—è·¯å¾„ï¼‰
ENV_CONFIG = {
    "qa": {
        "log_path": "/logs/qa/",
        "db_conn": "mssql://qa-sql...",
    },
    "uat": {
        "log_path": "/logs/uat/",
        "db_conn": "mssql://uat-sql...",
    }
}

# requirements.txt
fastapi
uvicorn
python-dotenv
```

```txt
# README.md
"""
# MCP Server

ä¸€ä¸ªä¸ºå¼€å‘è€…æœåŠ¡çš„ AI è°ƒè¯•å¹³å°ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€è®¿é—®æ—¥å¿—ã€æ•°æ®åº“å’Œæ–‡ä»¶å…±äº«ã€‚

## å¯åŠ¨æœåŠ¡
```bash
uvicorn app.main:app --reload
```

## ç¤ºä¾‹ API
- `GET /logs/latest`
- `GET /db/claim/{claim_id}`
- `GET /fs/download?path=...`
"""

